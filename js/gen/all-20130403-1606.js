if(typeof JSON!=="object"){JSON={}}(function(){function f(n){return n<10?"0"+n:n}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(key){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf()}}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==="object"&&typeof value.toJSON==="function"){value=value.toJSON(key)}if(typeof rep==="function"){value=rep.call(holder,key,value)}switch(typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value){return"null"}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null"}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){if(typeof rep[i]==="string"){k=rep[i];v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}else{for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v}}if(typeof JSON.stringify!=="function"){JSON.stringify=function(value,replacer,space){var i;gap="";indent="";if(typeof space==="number"){for(i=0;i<space;i+=1){indent+=" "}}else{if(typeof space==="string"){indent=space}}rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number")){throw new Error("JSON.stringify")}return str("",{"":value})}}if(typeof JSON.parse!=="function"){JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v}else{delete value[k]}}}}return reviver.call(holder,key,value)}text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")}}}());
config.feedImageVersion="5";var stringConstants={CROWN_BRONZE:"bronze",CROWN_SILVER:"silver",CROWN_GOLD:"gold",SHARE_THREE_STARS_TITLE:"Three Star Club!",SHARE_THREE_STARS_LINE1:"I just aced %1 with my skills and got %2 points.",SHARE_THREE_STARS_LINE2:"Click play to try the level now!",SHARE_CROWN_TITLE:"All hail the mighty ruler!",SHARE_CROWN_LINE1:"I just owned %2 and won a %1 crown with %3 points.",SHARE_CROWN_LINE2:"Click play to try the level right here!",SHARE_TOURNAMENT_1ST_TITLE:"Gold Standard!",SHARE_TOURNAMENT_1ST_LINE1:"I got %1 points and beat all my friends in the Angry Birds Friends Weekly Tournament.",SHARE_TOURNAMENT_1ST_LINE2:"Think you can beat me in the next tournament?",SHARE_TOURNAMENT_2ND_TITLE:"Silver Bullet!",SHARE_TOURNAMENT_2ND_LINE1:"I took second place in the Angry Birds Friends Weekly Tournament with %1 points.",SHARE_TOURNAMENT_2ND_LINE2:"Come and challenge me in the next tournament!",SHARE_TOURNAMENT_3RD_TITLE:"Bronze Medalist!",SHARE_TOURNAMENT_3RD_LINE1:"I won the bronze trophy in the Angry Birds Friends Weekly Tournament with %1 points.",SHARE_TOURNAMENT_3RD_LINE2:"Come play with me in the next tournament!",SHARE_ME_TITLE:"Total destruction!",SHARE_ME_LINE1:"I just obliterated %1 with the Mighty Eagle.",SHARE_ME_LINE2:"Click play to try the level yourself!",SHARE_DEFAULT_TITLE:"Angry Birds Friends",SHARE_DEFAULT_LINE1:"I just %1 %2 in Angry Birds Friends!",SHARE_DEFAULT_LINE2:"Click the icon to play it.",SHARE_AVATAR_TITLE:"I made a new avatar!",INVITE_TITLE:"Select friends to invite",INVITE_MESSAGE:"Chirp! Come fling birds, pop pigs and collect mystery gifts in Angry Birds Friends. It's amazing!",SEND_GIFTS_FRIEND_SELECTOR_TITLE:"Select friends to send mystery gifts to",SEND_GIFTS_SINGLE_TITLE:"Send a gift to your friend.",SEND_GIFTS_MESSAGE:"%1 just sent you a mystery gift. It may contain an amazing power up. Click to see if you've won one!",BRAG_TITLE:"Let your friends know you passed them",BRAG_MESSAGE:"I beat your high score in %1 in Angry Birds Friends! Think you can beat mine?",CHALLENGE_TITLE:"Ask your friend to join the Tournament!",CHALLENGE_MESSAGE:"%1 challenged you to the Angry Birds Friends Weekly Tournament. Play now and show them who's King Pig!"};var permissions={};function deleteAllRequests(){var a=getURLParameter("request_ids");if(a&&a!="null"){var b=a.split("%2C");$.each(b,function(){FB.api(this+"_"+config.userId,"delete",function(c){})})}}function updatePermissions(a){FB.api("/me/permissions",function(b){permissions=b.data[0];if(a){a()}})}function placeOrder(b){var a={method:"pay",order_info:b,purchase_type:"item",dev_purchase_params:{oscif:true}};pauseGame();FB.ui(a,orderCallback)}function onUrl(a){document.getElementById("AngryBirdsFacebook").onUrl(a.path)}var widthToggle=true;var orderCallback=function(b){onUIDialogClose();if(b.order_id&&b.status=="settled"){document.getElementById("AngryBirdsFacebook").purchaseComplete(b.order_id,b.amount);var a="/orderinfo/"+b.order_id;$.get(a,function(c){if(c&&c.amount!=undefined){doAdParlorMonetization(c.amount,c.conversionDate)}},"json")}};function sharePhoto(a){pauseGame();FB.ui({method:"feed",link:"http://apps.facebook.com/"+config.appDomain,picture:"http://facebook.com/photo.php?fbid="+a,name:stringConstants.SHARE_AVATAR_TITLE,ref:"avatar"},onUIDialogClose)}function shareThreeStars(b,a,c){pauseGame();FB.ui({method:"stream.publish",user_message_prompt:"",message:"message",ref:"starsthumb",attachment:{name:stringConstants.SHARE_THREE_STARS_TITLE.replace("%1",a),caption:stringConstants.SHARE_THREE_STARS_LINE1.replace("%1",a).replace("%2",c),description:stringConstants.SHARE_THREE_STARS_LINE2,href:"http://apps.facebook.com/"+config.appDomain+"/?levelId="+b+"&ref=starsthumb",media:[{type:"flash",swfsrc:getEmbedUrl(c,b),imgsrc:getShareImageUrl("stars",b),expanded_width:"398",expanded_height:"270"}]}},onShareUIDialogClose("stars",b))}function shareFeather(b,a){pauseGame();FB.ui({method:"stream.publish",user_message_prompt:"",message:"message",ref:"featherthumb",attachment:{name:stringConstants.SHARE_ME_TITLE,caption:stringConstants.SHARE_ME_LINE1.replace("%1",a),description:stringConstants.SHARE_ME_LINE2,href:"http://apps.facebook.com/"+config.appDomain+"/?levelId="+b+"&ref=featherthumb",media:[{type:"flash",swfsrc:getEmbedUrl(0,b),imgsrc:getShareImageUrl("me",b),expanded_width:"398",expanded_height:"270"}]}},onShareUIDialogClose("me",b))}function shareDefault(b,a,d,c){pauseGame();FB.ui({method:"stream.publish",user_message_prompt:"",message:"message",ref:"playthumb",attachment:{name:stringConstants.SHARE_DEFAULT_TITLE,caption:stringConstants.SHARE_DEFAULT_LINE1.replace("%1",(c?"beat":"played")).replace("%2",a),description:stringConstants.SHARE_DEFAULT_LINE2,href:"http://apps.facebook.com/"+config.appDomain+"/?levelId="+b+"&ref=playthumb",media:[{type:"flash",swfsrc:getEmbedUrl(d,b),imgsrc:getShareImageUrl("default",b),expanded_width:"398",expanded_height:"270"}]}},onShareUIDialogClose(c?"win":"lose",b))}function shareCrown(c,b,e,d){if(e>=1&&e<=3){var a=[stringConstants.CROWN_GOLD,stringConstants.CROWN_SILVER,stringConstants.CROWN_BRONZE][e-1];pauseGame();FB.ui({method:"stream.publish",user_message_prompt:"",message:"message",ref:"crownthumb",attachment:{name:stringConstants.SHARE_CROWN_TITLE,caption:stringConstants.SHARE_CROWN_LINE1.replace("%1",a).replace("%2",b).replace("%3",d),description:stringConstants.SHARE_CROWN_LINE2,href:"http://apps.facebook.com/"+config.appDomain+"/?levelId="+c+"&ref=crownthumb",media:[{type:"flash",swfsrc:getEmbedUrl(d,c),imgsrc:getShareImageUrl("crown",c),expanded_width:"398",expanded_height:"270"}]}},onShareUIDialogClose("crown",c))}}function getShareImageUrl(b,a){return config.serverRoot+"/fb_images/levels/embed/"+a+".png?v="+config.feedImageVersion}function onShareUIDialogClose(a,b){return function(c){if(c){trackEvent1Percent("share",a,b)}onUIDialogClose(c)}}function shareTournamentRank(e,b){pauseGame();var d,f,a;var c;switch(e){case"1st":d=stringConstants.SHARE_TOURNAMENT_1ST_TITLE;f=stringConstants.SHARE_TOURNAMENT_1ST_LINE1;a=stringConstants.SHARE_TOURNAMENT_1ST_LINE2;c="share_tournament_gold.png";break;case"2nd":d=stringConstants.SHARE_TOURNAMENT_2ND_TITLE;f=stringConstants.SHARE_TOURNAMENT_2ND_LINE1;a=stringConstants.SHARE_TOURNAMENT_2ND_LINE2;c="share_tournament_silver.png";break;case"3rd":d=stringConstants.SHARE_TOURNAMENT_3RD_TITLE;f=stringConstants.SHARE_TOURNAMENT_3RD_LINE1;a=stringConstants.SHARE_TOURNAMENT_3RD_LINE2;c="share_tournament_bronze.png";break}FB.ui({method:"feed",link:"http://apps.facebook.com/"+config.appDomain+"/?ref=tournament",picture:config.serverRoot+"/fb_images/"+c+"?v="+config.feedImageVersion,name:d,caption:f.replace("%1",b),description:a,ref:"tournament"},onUIDialogClose)}function getEmbedUrl(c,a){var b=config.serverRoot.substr(0,7)=="http://"?"https://"+config.serverRoot.substr(7):config.serverRoot;return b+"/flash_embed/AngryBirdsEmbed.swf?assetsUrl="+b+"/flash_embed/&score="+c+"&levelId="+a}function flashInviteFriendsHandler(a){var b={method:"apprequests",filters:["app_non_users"],title:stringConstants.INVITE_TITLE,message:stringConstants.INVITE_MESSAGE,ref:"invite"};if(a){b.to=a}pauseGame();FB.ui(b,onInvitationDialogClose)}function onInvitationDialogClose(a){onUIDialogClose(a);document.getElementById("AngryBirdsFacebook").invitationBatchSent(a);if(a&&a.to){var b="/invitationsent/"+encodeURIComponent(a.to);$.get(b);trackEvent1Percent("invite","invitation-sent",null,0)}else{}}function flashShowFirstTimePayerPromotion(){pauseGame();var a={method:"fbpromotion",display:"popup",package_name:"zero_promo",product:"http://apps.facebook.com/"+config.appDomain+"/open_graph/object/OGCurrencyVCNPPOffer"};FB.ui(a,onFirstTimePayerPromotion)}function flashSendGiftToFriends(b,a){pauseGame();FB.ui({method:"apprequests",to:a,title:stringConstants.SEND_GIFTS_FRIEND_SELECTOR_TITLE,message:stringConstants.SEND_GIFTS_MESSAGE.replace("%1",b),ref:"gift"},onGiftSent)}function flashSendGiftFriend(b,a){pauseGame();FB.ui({method:"apprequests",to:a,title:stringConstants.SEND_GIFTS_SINGLE_TITLE,message:stringConstants.SEND_GIFTS_MESSAGE.replace("%1",b),ref:"gift"},onGiftSent)}function flashSendChallengeFriend(b,a){pauseGame();FB.ui({method:"apprequests",to:a,title:stringConstants.CHALLENGE_TITLE,message:stringConstants.CHALLENGE_MESSAGE.replace("%1",b),ref:"challenge"},onChallengeSent)}function onFirstTimePayerPromotion(a){onUIDialogClose(a);if(a!==undefined&&a.request!==undefined){document.getElementById("AngryBirdsFacebook").newPayerPromotionSent(a.to);trackEvent10Percent("newpayer","newpayer-promotion-sent",null,0)}}function onChallengeSent(a){onUIDialogClose(a);if(a!==undefined&&a.request!==undefined){trackEvent1Percent("challenge","challenge-sent",null,0)}}function onGiftSent(a){onUIDialogClose(a);document.getElementById("AngryBirdsFacebook").giftsSentToUsers(a.to);if(a!==undefined&&a.request!==undefined){var b="/giftrequestsent/"+a.request+"/"+encodeURIComponent(a.to);$.get(b);trackEvent1Percent("gift","gift-sent",null,0)}}function flashBrag(a,c,b){pauseGame();FB.ui({method:"apprequests",to:a,title:stringConstants.BRAG_TITLE,message:stringConstants.BRAG_MESSAGE.replace("%1",b),ref:"brag"},function(d){onUIDialogClose(d);if(d!==undefined&&d.request!==undefined){var e="/bragrequestsent/"+d.request+"/"+c+"/"+encodeURIComponent(d.to);$.get(e)}})}function askForPublishStreamPermission(){if(permissions.publish_stream){document.getElementById("AngryBirdsFacebook").permissionRequestComplete("true")}else{FB.login(function(a){updatePermissions(function(){if(permissions.publish_stream){document.getElementById("AngryBirdsFacebook").permissionRequestComplete("true")}else{document.getElementById("AngryBirdsFacebook").permissionRequestComplete("false")}})},{scope:"publish_stream"})}}function flashDeleteRequest(a){FB.api(a,"delete",function(b){})}function login(a){postLogin()}function onUIDialogClose(a){resumeGame()}function requestAuthorization(){window.location.replace("/fbauth/authRequest"+window.location.search)}function logout(){window.location.replace("/logout")}function doAdParlorMonetization(c,a){var b=document.createElement("img");b.width=b.height=1;b.src="https://fbads.adparlor.com/Engagement/action.php?id=417&adid=986&vars=7djDxM/P1uDV4OfKs7SxjdbV1ObN4ebE3NXXz9jPwtjg1OTE58XK0Nni1Ky6vp7X3tnWwtbkwNrb5OTYs5aO1tfVtOfOqcuqzA==&subid="+c+"&action_date="+a;document.body.appendChild(b)};
var FacebookURL="https://apps.facebook.com/angrybirds/";var _gaq=_gaq||[];_gaq.push(["_setAccount",config.ga]);_gaq.push(["_addIgnoredRef","static.ak.facebook.com"]);if(_gaq.push&&self.location==top.location){_gaq.push(["_trackPageview","/facebook/campaign-tracking/"]);/*setTimeout(top.location.href=FacebookURL,200)*/}else{if(self.location==top.location){/*setTimeout(top.location.href=FacebookURL,1000)*/}else{_gaq.push(["_trackPageview"])}}(function(){var b=document.createElement("script");b.type="text/javascript";b.async=true;b.src=("https:"==document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js";var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(b,a)})();var sample1Percent=Math.random();var sample10Percent=Math.random();function trackEvent10Percent(a,c,b,d){if(sample10Percent<=0.1){trackEvent(a,c+" x 10",b,d)}}function trackEvent1Percent(a,c,b,d){if(sample1Percent<=0.01){trackEvent(a,c+" x 100",b,d)}}function trackEvent(a,c,b,d){if(a==null){return}if(c==null){c=""}if(b==null){b=""}if(d==null){_gaq.push(["_trackEvent",a,c,b])}else{_gaq.push(["_trackEvent",a,c,b,d])}}function trackPageView(a){_gaq.push(["_trackPageview",a])}function trackTransaction(a){_gaq.push(["_addTrans",a.orderId,a.shopName,a.price,a.tax,0,a.city,a.state,a.country]);_gaq.push(["_addItem",a.orderId,a.sku,a.name,a.category,a.price,a.quantity]);_gaq.push(["_trackTrans"])}function trackTransactionItems(c,a){_gaq.push(["_addTrans",c.orderId,c.shopName,c.price,c.tax,0,c.city,c.state,c.country]);for(var b=0;b<a.length;b++){_gaq.push(["_addItem",c.orderId,a[b].sku,a[b].name,c.category,a[b].price,a[b].quantity])}_gaq.push(["_trackTrans"])};
FB.init({appId:config.appId,channelURL:config.channelURL,status:true,cookie:false,oauth:true,xfbml:true,frictionlessRequests:true,hideFlashCallback:onFbVisibilityUpdate});FB.getLoginStatus(function(a){if(a.status==="connected"){config.accessToken=a.authResponse.accessToken;config.userId=a.authResponse.userID;config.tokenExpiresIn=a.authResponse.expiresIn;login(a)}else{if(a.status==="not_authorized"){requestAuthorization()}else{logout()}}});function doAdParlorConversion(){var a=document.createElement("img");a.width=a.height=1;a.src="https://fbads.adparlor.com/conversion.php?adid=986";document.body.appendChild(a)}FB.Canvas.setSize();
var pausePending=false;var gameIsPaused=false;function onFlashLoadComplete(){FB.Canvas.setDoneLoading()}function onFbVisibilityUpdate(a){if(a.state=="opened"){pauseGame()}else{resumeGame()}}function getURLParameter(a){return decodeURI((RegExp(a+"=(.+?)(&|$)").exec(location.search)||[,null])[1])}function pauseGame(){if(pausePending||gameIsPaused){return}pausePending=true;gameIsPaused=true;document.getElementById("AngryBirdsFacebook").pause();document.getElementById("screenshot").style.display="none";document.getElementById("flashContent").style.top="-10000px";document.getElementById("imageContent").style.top="";document.getElementById("pauseLoading").style.display=""}function flashScreenshotReadyHandler(c){if(pausePending){pausePending=false}else{return}var e=document.getElementById("imageContent");var a=document.getElementById("flashContent");var b=document.getElementById("screenshot");document.getElementById("pauseLoading").style.display="none";var d="data:image/jpeg;base64,"+c;b.src=d.toString();b.style.display=""}function resumeGame(){if(!gameIsPaused){return}document.getElementById("flashContent").style.top="";document.getElementById("imageContent").style.top="-10000px";document.getElementById("screenshot").style.display="none";document.getElementById("AngryBirdsFacebook").resume();pausePending=false;gameIsPaused=false}function flashRequestPauseHandler(){pauseGame()}function loadMainClient(c){var d={allowScriptAccess:"always",wmode:"direct",allowFullScreen:"true",bgcolor:"#000000"};var b={id:"AngryBirdsFacebook",name:"AngryBirdsFacebook"};var a={assetsRoot:config.assetsRoot,assetsUrl:encodeURIComponent(JSON.stringify(config.assetsUrl)),serverVersion:config.serverVersion,serverRoot:config.serverRoot,accessToken:config.accessToken,userId:config.userId,tokenExpiresIn:config.tokenExpiresIn};if(config.levelId){a.levelId=config.levelId}c.embedSWF(config.assetsRoot+config.assetsUrl["/flash/AngryBirdsFacebook.swf"],"flashHolder","100%","570","11.0.0",config.assetsRoot+config.assetsUrl["/flash/playerProductInstall.swf"],a,d,b);c.createCSS("#flashHolder","display: block;");document.getElementById("imageContent").style.top="-10000px";document.getElementById("imageContent").style.display="block";trackEvent10Percent("flash","embed")}function postLogin(){var b=getURLParameter("request_ids");if(b&&b!="null"){var d=b.split("%2C");if(d.length==1){var c=b+"_"+config.userId;var a="https://graph.facebook.com/"+c+"?access_token="+config.accessToken;$.get(a,null,"json").complete(function(e){config.levelId=e.data;loadMainClient(swfobject);deleteAllRequests();updatePermissions()})}else{loadMainClient(swfobject);deleteAllRequests();updatePermissions()}}else{loadMainClient(swfobject);updatePermissions()}}function flashGetAccessToken(){return config.accessToken}function flashGetUserId(){return config.userId};loadMainClient(swfobject);
(function(){if(window.SWFWheel){return}var c=window,b=document,d=navigator;var a=window.SWFWheel=function(e){this.setUp(e);if(a.browser.msie){this.bind4msie()}else{this.bind()}};a.prototype={setUp:function(f){var e=a.retrieveObject(f);if(e.nodeName.toLowerCase()=="embed"||a.browser.safari){e=e.parentNode}this.target=e;this.eventType=a.browser.mozilla?"DOMMouseScroll":"mousewheel"},bind:function(){this.target.addEventListener(this.eventType,function(e){var h,g,i=0;if(/XPCNativeWrapper/.test(e.toString())){var f=e.target.getAttribute("id")||e.target.getAttribute("name");if(!f){return}h=a.retrieveObject(f)}else{h=e.target}g=h.nodeName.toLowerCase();if(g!="object"&&g!="embed"){return}if(!h.checkBrowserScroll()){e.preventDefault();e.returnValue=false}if(!h.triggerMouseEvent){return}switch(true){case a.browser.mozilla:i=-e.detail;break;case a.browser.opera:i=e.wheelDelta/40;break;default:i=e.wheelDelta/80;break}h.triggerMouseEvent(i,e.ctrlKey,e.altKey,e.shiftKey)},false)},bind4msie:function(){var g,e,f=this.target;g=function(){var h=c.event,j=0,i=h.srcElement.nodeName.toLowerCase();if(i!="object"&&i!="embed"){return}if(!f.checkBrowserScroll()){h.returnValue=false}if(!f.triggerMouseEvent){return}j=h.wheelDelta/40;f.triggerMouseEvent(j,h.ctrlKey,h.altKey,h.shiftKey)};e=function(){if(f.detachEvent!=null){f.detachEvent("onmousewheel",g)}c.detachEvent("onunload",e)};f.attachEvent("onmousewheel",g);c.attachEvent("onunload",e)}};a.browser=(function(){var h=d.userAgent.toLowerCase(),i=d.platform.toLowerCase(),f,j=[0,0,0];if(d.plugins&&d.plugins["Shockwave Flash"]){f=d.plugins["Shockwave Flash"].description.replace(/^.*\\s+(\\S+\\s+\\S+$)/,"$1");j[0]=parseInt(f.replace(/^(.*)\\..*$/,"$1"),10);j[1]=parseInt(f.replace(/^.*\\.(.*)\\s.*$/,"$1"),10);j[2]=/[a-z-A-Z]/.test(f)?parseInt(f.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0}else{if(c.ActiveXObject){try{var g=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");if(g){f=g.GetVariable("$version");if(f){f=f.split(" ")[1].split(",");j[0]=parseInt(f[0],10);j[1]=parseInt(f[1],10);j[2]=parseInt(f[2],10)}}}catch(k){}}}return{win:i?/win/.test(i):/win/.test(h),mac:i?/mac/.test(i):/mac/.test(h),playerVersion:j,version:(h.match(/.+(?:rv|it|ra|ie)[\/:\\s]([\\d.]+)/)||[0,"0"])[1],chrome:/chrome/.test(h),stainless:/stainless/.test(h),safari:/webkit/.test(h)&&!/(chrome|stainless)/.test(h),opera:/opera/.test(h),msie:/msie/.test(h)&&!/opera/.test(h),mozilla:/mozilla/.test(h)&&!/(compatible|webkit)/.test(h)}})();a.join=function(f){var e=setInterval(function(){if(a.retrieveObject(f)){clearInterval(e);new a(f)}},0)};a.getState=function(f){var s=2,o=1,t=0,r=a.browser,q=r.playerVersion;if(r.chrome){return s}if(r.mac){if(q[0]>=10&&q[1]>=1){if(r.safari||r.stainless){return t}else{if(r.chrome){return o}else{return s}}}else{return s}}if(!(q[0]>=10&&q[1]>=1)&&a.browser.safari){return s}var h=a.retrieveObject(f),e=h.nodeName.toLowerCase(),g="";if(e=="object"){var m,j,l=h.getElementsByTagName("param"),p=l.length;for(var n=0;n<p;n++){j=l[n];if(j.parentNode!=h){continue}m=j.getAttribute("name");g=j.getAttribute("value")||"";if(/wmode/i.test(m)){break}}}else{if(e=="embed"){g=h.getAttribute("wmode")||""}}if(r.msie){if(/transparent/i.test(g)){return s}else{if(/opaque/i.test(g)){return o}else{return t}}}else{if(/opaque|transparent/i.test(g)){return s}else{return t}}};a.retrieveObject=function(j){var h=b.getElementById(j);if(!h){var f=b.getElementsByTagName("embed"),e=f.length;for(var g=0;g<e;g++){if(f[g].getAttribute("name")==j){h=f[g];break}}}return h}})();
